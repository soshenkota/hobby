(() => { "use strict"; const e = {}; let t = (e, t = 500, s = 0) => { e.classList.contains("_slide") || (e.classList.add("_slide"), e.style.transitionProperty = "height, margin, padding", e.style.transitionDuration = t + "ms", e.style.height = `${e.offsetHeight}px`, e.offsetHeight, e.style.overflow = "hidden", e.style.height = s ? `${s}px` : "0px", e.style.paddingTop = 0, e.style.paddingBottom = 0, e.style.marginTop = 0, e.style.marginBottom = 0, window.setTimeout((() => { e.hidden = !s, !s && e.style.removeProperty("height"), e.style.removeProperty("padding-top"), e.style.removeProperty("padding-bottom"), e.style.removeProperty("margin-top"), e.style.removeProperty("margin-bottom"), !s && e.style.removeProperty("overflow"), e.style.removeProperty("transition-duration"), e.style.removeProperty("transition-property"), e.classList.remove("_slide"), document.dispatchEvent(new CustomEvent("slideUpDone", { detail: { target: e } })) }), t)) }, s = (e, t = 500, s = 0) => { if (!e.classList.contains("_slide")) { e.classList.add("_slide"), e.hidden = !e.hidden && null, s && e.style.removeProperty("height"); let r = e.offsetHeight; e.style.overflow = "hidden", e.style.height = s ? `${s}px` : "0px", e.style.paddingTop = 0, e.style.paddingBottom = 0, e.style.marginTop = 0, e.style.marginBottom = 0, e.offsetHeight, e.style.transitionProperty = "height, margin, padding", e.style.transitionDuration = t + "ms", e.style.height = r + "px", e.style.removeProperty("padding-top"), e.style.removeProperty("padding-bottom"), e.style.removeProperty("margin-top"), e.style.removeProperty("margin-bottom"), window.setTimeout((() => { e.style.removeProperty("height"), e.style.removeProperty("overflow"), e.style.removeProperty("transition-duration"), e.style.removeProperty("transition-property"), e.classList.remove("_slide"), document.dispatchEvent(new CustomEvent("slideDownDone", { detail: { target: e } })) }), t) } }, r = !0, o = (e = 500) => { let t = document.querySelector("body"); if (r) { let s = document.querySelectorAll("[data-lp]"); setTimeout((() => { for (let e = 0; e < s.length; e++) { s[e].style.paddingRight = "0px" } t.style.paddingRight = "0px", document.documentElement.classList.remove("lock") }), e), r = !1, setTimeout((function () { r = !0 }), e) } }, a = (e = 500) => { let t = document.querySelector("body"); if (r) { let s = document.querySelectorAll("[data-lp]"); for (let e = 0; e < s.length; e++) { s[e].style.paddingRight = window.innerWidth - document.querySelector(".wrapper").offsetWidth + "px" } t.style.paddingRight = window.innerWidth - document.querySelector(".wrapper").offsetWidth + "px", document.documentElement.classList.add("lock"), r = !1, setTimeout((function () { r = !0 }), e) } }; function n(e) { return e.filter((function (e, t, s) { return s.indexOf(e) === t })) } function l(e, t) { const s = Array.from(e).filter((function (e, s, r) { if (e.dataset[t]) return e.dataset[t].split(",")[0] })); if (s.length) { const e = []; s.forEach((s => { const r = {}, o = s.dataset[t].split(","); r.value = o[0], r.type = o[1] ? o[1].trim() : "max", r.item = s, e.push(r) })); let r = e.map((function (e) { return "(" + e.type + "-width: " + e.value + "px)," + e.value + "," + e.type })); r = n(r); const o = []; if (r.length) return r.forEach((t => { const s = t.split(","), r = s[1], a = s[2], n = window.matchMedia(s[0]), l = e.filter((function (e) { if (e.value === r && e.type === a) return !0 })); o.push({ itemsArray: l, matchMedia: n }) })), o } } let i = { getErrors(e) { let t = 0, s = e.querySelectorAll("*[data-required]"); return s.length && s.forEach((e => { null === e.offsetParent && "SELECT" !== e.tagName || e.disabled || (t += this.validateInput(e)) })), t }, validateInput(e) { let t = 0; return "email" === e.dataset.required ? (e.value = e.value.replace(" ", ""), this.emailTest(e) ? (this.addError(e), t++) : this.removeError(e)) : ("checkbox" !== e.type || e.checked) && e.value.trim() ? this.removeError(e) : (this.addError(e), t++), t }, addError(e) { e.classList.add("_form-error"), e.parentElement.classList.add("_form-error"); let t = e.parentElement.querySelector(".form__error"); t && e.parentElement.removeChild(t), e.dataset.error && e.parentElement.insertAdjacentHTML("beforeend", `<div class="form__error">${e.dataset.error}</div>`) }, removeError(e) { e.classList.remove("_form-error"), e.parentElement.classList.remove("_form-error"), e.parentElement.querySelector(".form__error") && e.parentElement.removeChild(e.parentElement.querySelector(".form__error")) }, formClean(t) { t.reset(), setTimeout((() => { let s = t.querySelectorAll("input,textarea"); for (let e = 0; e < s.length; e++) { const t = s[e]; t.parentElement.classList.remove("_form-focus"), t.classList.remove("_form-focus"), i.removeError(t) } let r = t.querySelectorAll(".checkbox__input"); if (r.length > 0) for (let e = 0; e < r.length; e++) { r[e].checked = !1 } if (e.select) { let s = t.querySelectorAll(".select"); if (s.length) for (let t = 0; t < s.length; t++) { const r = s[t].querySelector("select"); e.select.selectBuild(r) } } }), 0) }, emailTest: e => !/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,8})+$/.test(e.value) }; e.watcher = new class { constructor(e) { this.config = Object.assign({ logging: !0 }, e), this.observer, !document.documentElement.classList.contains("watcher") && this.scrollWatcherRun() } scrollWatcherUpdate() { this.scrollWatcherRun() } scrollWatcherRun() { document.documentElement.classList.add("watcher"), this.scrollWatcherConstructor(document.querySelectorAll("[data-watch]")) } scrollWatcherConstructor(e) { if (e.length) { this.scrollWatcherLogging(`Прокинувся, стежу за об'єктами (${e.length})...`), n(Array.from(e).map((function (e) { return `${e.dataset.watchRoot ? e.dataset.watchRoot : null}|${e.dataset.watchMargin ? e.dataset.watchMargin : "0px"}|${e.dataset.watchThreshold ? e.dataset.watchThreshold : 0}` }))).forEach((t => { let s = t.split("|"), r = { root: s[0], margin: s[1], threshold: s[2] }, o = Array.from(e).filter((function (e) { let t = e.dataset.watchRoot ? e.dataset.watchRoot : null, s = e.dataset.watchMargin ? e.dataset.watchMargin : "0px", o = e.dataset.watchThreshold ? e.dataset.watchThreshold : 0; if (String(t) === r.root && String(s) === r.margin && String(o) === r.threshold) return e })), a = this.getScrollWatcherConfig(r); this.scrollWatcherInit(o, a) })) } else this.scrollWatcherLogging("Сплю, немає об'єктів для стеження. ZzzZZzz") } getScrollWatcherConfig(e) { let t = {}; if (document.querySelector(e.root) ? t.root = document.querySelector(e.root) : "null" !== e.root && this.scrollWatcherLogging(`Эмм... батьківського об'єкта ${e.root} немає на сторінці`), t.rootMargin = e.margin, !(e.margin.indexOf("px") < 0 && e.margin.indexOf("%") < 0)) { if ("prx" === e.threshold) { e.threshold = []; for (let t = 0; t <= 1; t += .005)e.threshold.push(t) } else e.threshold = e.threshold.split(","); return t.threshold = e.threshold, t } this.scrollWatcherLogging("йой, налаштування data-watch-margin потрібно задавати в PX або %") } scrollWatcherCreate(e) { this.observer = new IntersectionObserver(((e, t) => { e.forEach((e => { this.scrollWatcherCallback(e, t) })) }), e) } scrollWatcherInit(e, t) { this.scrollWatcherCreate(t), e.forEach((e => this.observer.observe(e))) } scrollWatcherIntersecting(e, t) { e.isIntersecting ? (!t.classList.contains("_watcher-view") && t.classList.add("_watcher-view"), this.scrollWatcherLogging(`Я бачу ${t.classList}, додав клас _watcher-view`)) : (t.classList.contains("_watcher-view") && t.classList.remove("_watcher-view"), this.scrollWatcherLogging(`Я не бачу ${t.classList}, прибрав клас _watcher-view`)) } scrollWatcherOff(e, t) { t.unobserve(e), this.scrollWatcherLogging(`Я перестав стежити за ${e.classList}`) } scrollWatcherLogging(e) { this.config.logging && function (e) { setTimeout((() => { window.FLS && console.log(e) }), 0) }(`[Спостерігач]: ${e}`) } scrollWatcherCallback(e, t) { const s = e.target; this.scrollWatcherIntersecting(e, s), s.hasAttribute("data-watch-once") && e.isIntersecting && this.scrollWatcherOff(s, t), document.dispatchEvent(new CustomEvent("watcherCallback", { detail: { entry: e } })) } }({}); let c = !1; setTimeout((() => { if (c) { let e = new Event("windowScroll"); window.addEventListener("scroll", (function (t) { document.dispatchEvent(e) })) } }), 0), window.FLS = !1, function (e) { let t = new Image; t.onload = t.onerror = function () { e(2 == t.height) }, t.src = "data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA" }((function (e) { let t = !0 === e ? "webp" : "no-webp"; document.documentElement.classList.add(t) })), document.querySelector(".icon-menu") && document.addEventListener("click", (function (e) { r && e.target.closest(".icon-menu") && (((e = 500) => { document.documentElement.classList.contains("lock") ? o(e) : a(e) })(), document.documentElement.classList.toggle("menu-open")) })), function () { const e = document.querySelectorAll("[data-spollers]"); if (e.length > 0) { document.addEventListener("click", i); const r = Array.from(e).filter((function (e, t, s) { return !e.dataset.spollers.split(",")[0] })); r.length && a(r); let o = l(e, "spollers"); function a(e, t = !1) { e.forEach((e => { e = t ? e.item : e, t.matches || !t ? (e.classList.add("_spoller-init"), n(e)) : (e.classList.remove("_spoller-init"), n(e, !1)) })) } function n(e, t = !0) { let s = e.querySelectorAll("details"); s.length && s.forEach((e => { let s = e.querySelector("summary"); t ? (s.removeAttribute("tabindex"), e.hasAttribute("data-open") ? (s.classList.add("_spoller-active"), e.open = !0) : (e.open = !1, s.nextElementSibling.hidden = !0)) : (s.setAttribute("tabindex", "-1"), s.classList.remove("_spoller-active"), e.open = !0, s.nextElementSibling.hidden = !1) })) } function i(e) { const r = e.target; if (r.closest("summary") && r.closest("[data-spollers]") && (e.preventDefault(), r.closest("[data-spollers]").classList.contains("_spoller-init"))) { const e = r.closest("summary"), o = e.closest("details"), a = e.closest("[data-spollers]"), n = a.hasAttribute("data-one-spoller"), l = o.hasAttribute("data-spoller-scroll"), i = a.dataset.spollersSpeed ? parseInt(a.dataset.spollersSpeed) : 500; if (!a.querySelectorAll("._slide").length && (n && !o.open && c(a), o.open ? setTimeout((() => { o.open = !1 }), i) : o.open = !0, e.classList.toggle("_spoller-active"), ((e, r = 500) => { e.hidden ? s(e, r) : t(e, r) })(e.nextElementSibling, i), l && e.classList.contains("_spoller-active"))) { const e = o.dataset.spollerScroll, t = +e ? +e : 0, s = o.hasAttribute("data-spoller-scroll-noheader") ? document.querySelector(".header").offsetHeight : 0; window.scrollTo({ top: o.offsetTop - (t + s), behavior: "smooth" }) } } if (!r.closest("[data-spollers]")) { const e = document.querySelectorAll("[data-spoller-close]"); e.length && e.forEach((e => { const s = e.closest("[data-spollers]"), r = e.parentNode; if (s.classList.contains("_spoller-init")) { const o = s.dataset.spollersSpeed ? parseInt(s.dataset.spollersSpeed) : 500; e.classList.remove("_spoller-active"), t(e.nextElementSibling, o), setTimeout((() => { r.open = !1 }), o) } })) } } function c(e) { const s = e.querySelector("details[open]"); if (s && !e.querySelectorAll("._slide").length) { const r = s.querySelector("summary"), o = e.dataset.spollersSpeed ? parseInt(e.dataset.spollersSpeed) : 500; r.classList.remove("_spoller-active"), t(r.nextElementSibling, o), setTimeout((() => { s.open = !1 }), o) } } o && o.length && o.forEach((e => { e.matchMedia.addEventListener("change", (function () { a(e.itemsArray, e.matchMedia) })), a(e.itemsArray, e.matchMedia) })) } }(), function (e = { viewPass: !1, autoHeight: !1 }) { if (document.body.addEventListener("focusin", (function (e) { const t = e.target; "INPUT" !== t.tagName && "TEXTAREA" !== t.tagName || (t.hasAttribute("data-no-focus-classes") || (t.classList.add("_form-focus"), t.parentElement.classList.add("_form-focus")), i.removeError(t), t.hasAttribute("data-validate") && i.removeError(t)) })), document.body.addEventListener("focusout", (function (e) { const t = e.target; "INPUT" !== t.tagName && "TEXTAREA" !== t.tagName || (t.hasAttribute("data-no-focus-classes") || (t.classList.remove("_form-focus"), t.parentElement.classList.remove("_form-focus")), t.hasAttribute("data-validate") && i.validateInput(t)) })), e.viewPass && document.addEventListener("click", (function (e) { let t = e.target; if (t.closest('[class*="__viewpass"]')) { let e = t.classList.contains("_viewpass-active") ? "password" : "text"; t.parentElement.querySelector("input").setAttribute("type", e), t.classList.toggle("_viewpass-active") } })), e.autoHeight) { const t = document.querySelectorAll("textarea[data-autoheight]"); if (t.length) { function s(e, t) { e.style.height = `${t}px` } t.forEach((e => { const t = e.hasAttribute("data-autoheight-min") ? Number(e.dataset.autoheightMin) : Number(e.offsetHeight), r = e.hasAttribute("data-autoheight-max") ? Number(e.dataset.autoheightMax) : 1 / 0; s(e, Math.min(t, r)), e.addEventListener("input", (() => { e.scrollHeight > t && (e.style.height = "auto", s(e, Math.min(Math.max(e.scrollHeight, t), r))) })) })) } } }({ viewPass: !1, autoHeight: !1 }), function () { const e = document.querySelectorAll(".rating"); e.length > 0 && function () { let t, s; for (let t = 0; t < e.length; t++) { r(e[t]) } function r(e) { o(e), a(), e.classList.contains("rating_set") && n(e) } function o(e) { t = e.querySelector(".rating__active"), s = e.querySelector(".rating__value") } function a(e = s.innerHTML) { const r = e / .05; t.style.width = `${r}%` } function n(e) { const t = e.querySelectorAll(".rating__item"); for (let r = 0; r < t.length; r++) { const n = t[r]; n.addEventListener("mouseenter", (function (t) { o(e), a(n.value) })), n.addEventListener("mouseleave", (function (e) { a() })), n.addEventListener("click", (function (t) { o(e), e.dataset.ajax ? l(n.value, e) : (s.innerHTML = r + 1, a()) })) } } async function l(e, t) { if (!t.classList.contains("rating_sending")) { t.classList.add("rating_sending"); let e = await fetch("rating.json", { method: "GET" }); if (e.ok) { const r = (await e.json()).newRating; s.innerHTML = r, a(), t.classList.remove("rating_sending") } else alert("Помилка"), t.classList.remove("rating_sending") } } }() }(), function () { c = !0; const e = document.querySelector("header.header"), t = e.hasAttribute("data-scroll-show"), s = e.dataset.scrollShow ? e.dataset.scrollShow : 500, r = e.dataset.scroll ? e.dataset.scroll : 1; let o, a = 0; document.addEventListener("windowScroll", (function (n) { const l = window.scrollY; clearTimeout(o), l >= r ? (!e.classList.contains("_header-scroll") && e.classList.add("_header-scroll"), t && (l > a ? e.classList.contains("_header-show") && e.classList.remove("_header-show") : !e.classList.contains("_header-show") && e.classList.add("_header-show"), o = setTimeout((() => { !e.classList.contains("_header-show") && e.classList.add("_header-show") }), s))) : (e.classList.contains("_header-scroll") && e.classList.remove("_header-scroll"), t && e.classList.contains("_header-show") && e.classList.remove("_header-show")), a = l <= 0 ? 0 : l })) }(), function () { function e(e) { let t = e || document.querySelectorAll("[data-digits-counter]"); t.length && t.forEach((e => { !function (e) { let t = null; const s = parseFloat(e.dataset.digitsCounterSpeed) ? parseFloat(e.dataset.digitsCounterSpeed) : 1e3, r = parseFloat(e.dataset.digitsCounter), o = e.dataset.digitsCounterFormat ? e.dataset.digitsCounterFormat : " ", a = 0, n = l => { t || (t = l); const i = Math.min((l - t) / s, 1), c = Math.floor(i * (a + r)); e.innerHTML = void 0 !== e.dataset.digitsCounterFormat ? function (e, t = " ") { return e.toString().replace(/(\d)(?=(\d\d\d)+([^\d]|$))/g, `$1${t}`) }(c, o) : c, i < 1 && window.requestAnimationFrame(n) }; window.requestAnimationFrame(n) }(e) })) } document.querySelectorAll("[data-digits-counter]").length && document.querySelectorAll("[data-digits-counter]").forEach((e => { e.dataset.digitsCounter = e.innerHTML, e.innerHTML = "0" })), document.addEventListener("watcherCallback", (function (t) { const s = t.detail.entry.target; s.querySelectorAll("[data-digits-counter]").length && e(s.querySelectorAll("[data-digits-counter]")) })) }() })();